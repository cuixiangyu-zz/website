webpackJsonp([2],{258:function(t,e,i){function a(t){i(344)}var s=i(61)(i(290),i(383),a,"data-v-70878e8e",null);t.exports=s.exports},263:function(t,e,i){"use strict";function a(t){return i.i(o.a)({url:"/userFavorite/addFavorite",method:"post",data:t})}function s(t){return i.i(o.a)({url:"/userFavorite/deleteFavorite",method:"get",params:t})}function n(t){return i.i(o.a)({url:"/userFavorite/getList",method:"get",params:t})}e.a=a,e.b=s,e.c=n;var o=i(108)},264:function(t,e,i){"use strict";function a(t){return i.i(n.a)({url:"/viewHistory/addHistory",method:"post",data:t})}function s(t){return i.i(n.a)({url:"/viewHistory/getHistory",method:"get",params:t})}e.a=a,e.b=s;var n=i(108)},265:function(t,e,i){"use strict";function a(t){return i.i(s.a)({url:"/video/getPageList",method:"post",data:t})}e.a=a;var s=i(108)},288:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"slide",props:{slideTemp:{type:Array,default:[]},indexArr:{type:Array}},data:function(){return{viewNum:[0,0],viewCount:0}},filters:{filterZero:function(t){return 0==t?"":t}},watch:{},computed:{},methods:{resetSelect:function(){for(var t=0;t<this.indexArr.length;t++)-1==this.indexArr[t].indexOf(0)&&(this.indexArr[t].splice(0,this.indexArr[t].length),this.indexArr[t].push(0))},checkOut:function(t,e){return-1!=this.indexArr[t].indexOf(e)},addClass:function(t,e,i){if(t.isCheckbox)if(0!=i){if(-1!=this.indexArr[e].indexOf(0)&&this.indexArr[e].splice(0,1),-1!=this.indexArr[e].indexOf(i)){var a=this.indexArr[e].indexOf(i);this.indexArr[e].splice(a,1)}else this.indexArr[e].push(i);var s=this.indexArr[e].length;0==s&&this.indexArr[e].push(0)}else{var n=this.indexArr[e].length;this.indexArr[e].splice(0,n),this.indexArr[e].push(i)}else{var o=this.indexArr[e].length;-1==this.indexArr[e].indexOf(i)&&(this.indexArr[e].splice(0,o),this.indexArr[e].push(i))}},hide:function(){this.$emit("hide")},cantScroll:function(){document.getElementById("mask").addEventListener("touchmove",function(t){t.preventDefault()})}},mounted:function(){this.cantScroll()},created:function(){}}},290:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(109),s=i.n(a),n=i(365),o=i.n(n),r=i(364),l=i.n(r),c=i(363),u=i.n(c),d=i(265),p=i(264),f=i(263);e.default={data:function(){return{noMore:!1,willshow:!1,timer:null,mainscroll:null,apiUrl:"",jobs:[],temp:[],jobId:"",loading:!1,allLoaded:!1,wrapperHeight:0,tableData:{japanList:[],japanFavorite:[],japanHistory:[]},listQuery:{japanList:{pageNum:1,pageSize:10,actorName:null,videoName:null,types:null,videoType:1},japanFavorite:{type:1,level:"",pageSize:10,pageNum:1,load:!1},japanHistory:{type:1,startTime:null,endTime:null,pageSize:10,pageNum:1,load:!1}},typeMap:"",actors:"",deviceDetail:null,imgSrc:"http://127.0.0.1:8081/website/resources/_MG_0170.jpg",url:"http://127.0.0.1:8081/website/resources/_MG_0170.jpg",srcList:[],switchForMore:!1,activeName:"",activeIndex:"1",tab:1}},components:{slideTabComp:o.a,selectCityComp:l.a,compRequireComp:u.a},computed:{},methods:{fromChild:function(t){this.navlist[0].title=t},hide:function(){this.navlist.filter(function(t){t.isSelected=!1})},changeColor:function(t,e){this.slideIndex=e,this.slideTemp=this.slideData[e],t.isSelected?t.isSelected=!1:(this.navlist.filter(function(t){t.isSelected=!1}),t.isSelected=!0)},loadData:function(){var t=this;this.$http.get(t.apiUrl).then(function(e){"0"==e.data.code&&(t.jobs=e.data.main,t.temp=e.data.main)}).catch(function(t){console.log(t)})},loadMore:function(){var t=this;1===this.tab?(this.loading=!0,this.noMore=!1,i.i(d.a)(this.listQuery.japanList).then(function(e){t.listQuery.japanList.pageNum=t.randomNum(1,e.PageInfo.pages),t.tableData.japanList.length<=0?t.tableData.japanList=e.PageInfo:t.tableData.japanList.list=t.tableData.japanList.list.concat(e.PageInfo.list)})):2===this.tab&&this.listQuery.comicHistory.load?(this.loading=!0,this.noMore=!1,i.i(f.c)(this.listQuery.japanFavorite).then(function(e){e.pageNum>=e.pages?(t.listQuery.japanFavorite.load=!1,t.listQuery.japanFavorite.pageNum=e.pageNum):t.listQuery.japanFavorite.pageNum=e.pageNum+1,t.tableData.japanFavorite.length<=0?t.tableData.japanFavorite=e:t.tableData.japanFavorite.list=t.tableData.japanFavorite.list.concat(e.list)})):3===this.tab&&this.listQuery.comicHistory.load?(this.loading=!0,this.noMore=!1,i.i(p.b)(this.listQuery.japanHistory).then(function(e){e.pageNum>=e.pages?(t.listQuery.japanHistory.load=!1,t.listQuery.japanHistory.pageNum=e.pageNum):t.listQuery.japanHistory.pageNum=e.pageNum+1,t.tableData.japanHistory.length<=0?t.tableData.japanHistory=e:t.tableData.japanHistory.list=t.tableData.japanHistory.list.concat(e.list)})):this.noMore=!0,this.loading=!1},stopScroll:function(){document.getElementById("jobcontent").addEventListener("touchmove",function(t){t.preventDefault()},!1)},removeStopScroll:function(){document.getElementById("jobcontent").removeEventListener("touchmove",function(t){t.preventDefault()},!1)},getPageList:function(){var t=this;this.noMore=!1;var e=sessionStorage.getItem("listQuery_japan_video"),a=sessionStorage.getItem("refresh_japan_video");null!==e&&null!==a&&"true"===a&&(this.listQuery=JSON.parse(e)),i.i(d.a)(this.listQuery.japanList).then(function(e){t.listQuery.japanList.pageNum=t.randomNum(1,e.PageInfo.pages),t.tab=1,t.tableData.japanList=e.PageInfo})},getFavoriteList:function(){var t=this;this.noMore=!1,i.i(f.c)(this.listQuery.japanFavorite).then(function(e){e.pageNum>=e.pages?(t.listQuery.japanFavorite.load=!1,t.listQuery.japanFavorite.pageNum=e.pageNum):t.listQuery.japanFavorite.pageNum=e.pageNum+1,t.tab=2,t.tableData.japanFavorite=e})},getHistoryList:function(){var t=this;this.noMore=!1,i.i(p.b)(this.listQuery.japanHistory).then(function(e){e.pageNum>=e.pages?(t.listQuery.japanHistory.load=!1,t.listQuery.japanHistory.pageNum=e.pageNum):t.listQuery.japanHistory.pageNum=e.pageNum+1,t.tab=3,t.tableData.japanHistory=e})},handleCurrentChange:function(t){this.listQuery.pageNum=t,sessionStorage.setItem("refresh_japan_video",!1),this.getPageList()},handleSizeChange:function(t){this.listQuery.pageSize=t,sessionStorage.setItem("refresh_japan_video",!1),this.getPageList()},handleSelect:function(t,e){console.log(t),this.tab=t,1===this.tab?this.getPageList():2===this.tab?this.getFavoriteList():3===this.tab?this.getHistoryList():"1"===this.tab?this.getPageList():"2"===this.tab?this.getFavoriteList():"3"===this.tab&&this.getHistoryList()},getType:function(t){event.stopPropagation();var e=[],i=[];e.push("allTypes"),e.push(t.id),i.push(e),this.listQuery.types=i,this.listQuery.actorName=null,console.log(this.listQuery),sessionStorage.setItem("refresh_japan_video",!1),this.getPageList()},getActor:function(t){event.stopPropagation(),this.listQuery.actorName=t,this.listQuery.types=null,sessionStorage.setItem("refresh_japan_video",!1),this.getPageList()},jump:function(t){sessionStorage.setItem("listQuery_japan_video",s()(this.listQuery)),sessionStorage.setItem("refresh_japan_video",!0),sessionStorage.setItem("refresh_video_detail",!0),sessionStorage.setItem("queryList",{id:t,type:1}),this.$router.push({path:"/video_detail/index",name:"jobdetail",params:{id:t}})},showimg:function(){var t=[];t.push("http://127.0.0.1:8081/website/resources/_MG_0177.jpg"),t.push("http://127.0.0.1:8081/website/resources/_MG_0170.jpg"),this.srcList=t},randomNum:function(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}}},mounted:function(){this.wrapperHeight=document.documentElement.clientHeight-this.$refs.wrapper.getBoundingClientRect().top},created:function(){this.getPageList()},beforeRouteLeave:function(t,e,i){sessionStorage.setItem("listQuery_japan_video",s()(this.listQuery)),sessionStorage.setItem("refresh_japan_video",!0),i()}}},291:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"slide",data:function(){return{apiUrl:"",tabbar:[],tempList:[{pfid:"1",road:"全上海",isHad:!1}],tempOne:[{index:"",count:0},{index:"",count:0}],domIndex:0,viewCount:""}},watch:{},computed:{},filters:{filterZero:function(t){return 0==t?"":t}},methods:{resetSelect:function(){for(var t=this,e=this.tabbar,i=0;i<e.length;i++){for(var a=e[i].places,s=0;s<a.length;s++){a[s].isOn=!1;for(var n=a[s].list,o=0;o<n.length;o++)n[o].isHad=!1}a[0].isOn=!0,this.tempOne[i].index="",this.tempList=[{pfid:"1",road:"全上海",isHad:!1}]}document.getElementsByClassName("tab_position_left")[this.domIndex].scrollTop=0,t.tempOne.filter(function(t){t.count=0}),t.viewCount=0},hide:function(){this.$emit("hide")},cantScroll:function(){document.getElementById("mask").addEventListener("touchmove",function(t){t.preventDefault()})},initApiUrl:function(){var t="http://"+window.location.host+"/";this.apiUrl=t+"static/data/city.json"},getData:function(){var t=this;t.$http.get(t.apiUrl).then(function(e){"0"==e.data.code&&(t.tabbar=e.data.data)}).catch(function(t){console.log(t)})},toggleSelect:function(t,e){var i=this;i.viewCount=i.tempOne[e].count,i.domIndex=e;var a=i.tempOne[e].index,s=i.tabbar[e].places;t.isSelected||(this.tabbar.filter(function(t){t.isSelected=!1}),t.isSelected=!0,i.tempList=a?s[a].list:s[0].list)},toggleClass:function(t,e,i){var a=this;a.tempList.filter(function(t){t.isHad=!1}),a.tempOne[a.domIndex].count=0,a.viewCount=0;var s=a.tabbar[e].places;t.isOn||(s.filter(function(t){t.isOn=!1}),t.isOn=!0,a.tempList=s[i].list,a.tempOne[e].index=i)},toggleChange:function(t,e){var i=this;0!==e?(i.tempList[0].isHad=!1,t.isHad=!t.isHad,t.isHad?i.tempOne[i.domIndex].count++:i.tempOne[i.domIndex].count--,i.viewCount=i.tempOne[i.domIndex].count):(i.tempList.filter(function(t){t.isHad=!1}),t.isHad=!t.isHad,i.tempOne.filter(function(t){t.count=0}),i.viewCount=0)}},mounted:function(){this.cantScroll()},created:function(){this.initApiUrl(),this.getData()}}},292:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"slide",props:{slideTemp:{type:Array,default:[]}},data:function(){return{msg:"Welcome to Your Vue.js App"}},watch:{},computed:{},methods:{toggleSelected:function(t,e){t.hadSelested||(this.slideTemp.filter(function(t){t.hadSelested=!1}),t.hadSelested=!0,this.$emit("toParent",t.name))},hide:function(){this.$emit("hide")},cantScroll:function(){document.getElementById("mask").addEventListener("touchmove",function(t){t.preventDefault()})}},mounted:function(){this.cantScroll()},created:function(){}}},312:function(t,e,i){e=t.exports=i(248)(!1),e.push([t.i,"",""])},319:function(t,e,i){e=t.exports=i(248)(!1),e.push([t.i,"",""])},325:function(t,e,i){e=t.exports=i(248)(!1),e.push([t.i,"",""])},326:function(t,e,i){e=t.exports=i(248)(!1),e.push([t.i,"",""])},337:function(t,e,i){var a=i(312);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(249)("e319b5c8",a,!0,{})},344:function(t,e,i){var a=i(319);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(249)("0021680b",a,!0,{})},350:function(t,e,i){var a=i(325);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(249)("1f2192aa",a,!0,{})},351:function(t,e,i){var a=i(326);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(249)("3c381f92",a,!0,{})},363:function(t,e,i){function a(t){i(337)}var s=i(61)(i(288),i(376),a,"data-v-2f2e2790",null);t.exports=s.exports},364:function(t,e,i){function a(t){i(350)}var s=i(61)(i(291),i(389),a,"data-v-b775785a",null);t.exports=s.exports},365:function(t,e,i){function a(t){i(351)}var s=i(61)(i(292),i(390),a,"data-v-bb0ce0a0",null);t.exports=s.exports},376:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"same_mask"},[i("div",{staticClass:"slide_sametab"},t._l(t.slideTemp,function(e,a){return i("div",{key:a,staticClass:"same_list"},[i("p",[t._v(t._s(e.title))]),t._v(" "),i("ul",t._l(e.list,function(s,n){return i("li",{key:n,class:{actived:t.checkOut(a,n)},on:{click:function(i){return t.addClass(e,a,n)}}},[t._v(t._s(s))])}),0)])}),0),t._v(" "),i("ul",{staticClass:"reset_city flex_parent"},[i("li",{staticClass:"flex_child",on:{click:t.resetSelect}},[t._v("重置")]),t._v(" "),i("li",{staticClass:"flex_child on",on:{click:t.hide}},[t._v("确定 "+t._s(t._f("filterZero")(t.viewCount)))])]),t._v(" "),i("div",{staticClass:"mask",attrs:{id:"mask"},on:{click:t.hide}})])},staticRenderFns:[]}},383:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"main"}},[i("div",{staticClass:"main_fixed_top"},[i("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:t.handleSelect}},[i("el-menu-item",{attrs:{index:"1"}},[t._v("日本影片")]),t._v(" "),i("el-menu-item",{attrs:{index:"2"}},[t._v("我的收藏")]),t._v(" "),i("el-menu-item",{attrs:{index:"3"}},[t._v("浏览记录")])],1)],1),t._v(" "),1===t.tab?i("div",{ref:"wrapper",staticClass:"job_content",attrs:{id:"japanList"}},[i("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"page-infinite-list job_lists",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"50"}},t._l(t.tableData.japanList.list,function(e,a){return i("li",{key:a},[i("router-link",{attrs:{to:{name:"detail",params:{id:e.id}}},on:{click:function(e){return t.changeDetialId(a)}}},[i("img",{attrs:{src:e.coverUrl}}),t._v(" "),i("h4",{staticClass:"clear"},[t._v(t._s(e.name))]),t._v(" "),i("p",{staticClass:"clear"},[i("span"),t._v(" "),i("span",{staticClass:"tag-group__title"},[t._v("演员:")]),t._v(" "),t._l(e.actors,function(e){return i("el-tag",{key:e.id,attrs:{size:"mini",effect:"plain"},on:{click:function(e){return t.getType(t.types)}}},[t._v(t._s(e.chineseName)+"\n                        ")])})],2)])],1)}),0),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"page-infinite-loading"},[i("mt-spinner",{attrs:{type:"fading-circle"}}),t._v("\n            客官您滑慢点...\n        ")],1)]):t._e(),t._v(" "),2===t.tab?i("div",{ref:"wrapper",staticClass:"job_content",attrs:{id:"japanFavorite"}},[i("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"page-infinite-list job_lists",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"50"}},t._l(t.tableData.japanFavorite.list,function(e,a){return i("li",{key:a},[i("router-link",{attrs:{to:{name:"detail",params:{id:e.video.id}}},on:{click:function(e){return t.changeDetialId(a)}}},[i("img",{attrs:{src:e.video.coverUrl}}),t._v(" "),i("h4",{staticClass:"clear"},[t._v(t._s(e.video.name))]),t._v(" "),i("p",{staticClass:"clear"},[i("span"),t._v(" "),i("span",{staticClass:"tag-group__title"},[t._v("演员:")]),t._v(" "),t._l(e.video.actors,function(e){return i("el-tag",{key:e.id,attrs:{size:"mini",effect:"plain"},on:{click:function(e){return t.getType(t.types)}}},[t._v(t._s(e.chineseName)+"\n                        ")])})],2)])],1)}),0),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"page-infinite-loading"},[i("mt-spinner",{attrs:{type:"fading-circle"}}),t._v("\n            客官您滑慢点...\n        ")],1)]):t._e(),t._v(" "),3===t.tab?i("div",{ref:"wrapper",staticClass:"job_content",attrs:{id:"japanHistory"}},[i("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"page-infinite-list job_lists",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"50"}},t._l(t.tableData.japanHistory.list,function(e,a){return i("li",{key:a},[i("router-link",{attrs:{to:{name:"detail",params:{id:e.video.id}}},on:{click:function(e){return t.changeDetialId(a)}}},[i("img",{attrs:{src:e.video.coverUrl}}),t._v(" "),i("h4",{staticClass:"clear"},[t._v(t._s(e.video.name))]),t._v(" "),i("p",{staticClass:"clear"},[i("span"),t._v(" "),i("span",{staticClass:"tag-group__title"},[t._v("演员:")]),t._v(" "),t._l(e.video.actors,function(e){return i("el-tag",{key:e.id,attrs:{size:"mini",effect:"plain"},on:{click:function(e){return t.getType(t.types)}}},[t._v(t._s(e.chineseName)+"\n                        ")])})],2)])],1)}),0),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"page-infinite-loading"},[i("mt-spinner",{attrs:{type:"fading-circle"}}),t._v("\n            客官您滑慢点...\n        ")],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.noMore,expression:"noMore"}],staticClass:"page-infinite-loading"},[t._v("\n            暂无更多...\n        ")])]):t._e()])},staticRenderFns:[]}},389:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"slide_tab"},[i("div",{staticClass:"tab_box"},[i("ul",{staticClass:"tab_bar flex_parent"},t._l(t.tabbar,function(e,a){return i("li",{key:a,staticClass:"flex_child",class:{on:e.isSelected},on:{click:function(i){return t.toggleSelect(e,a)}}},[i("i",{staticClass:"iconfont",class:e.iconClass}),t._v(t._s(e.title)+"\n      ")])}),0),t._v(" "),i("div",{staticClass:"tab_list_box"},t._l(t.tabbar,function(e,a){return i("div",{directives:[{name:"show",rawName:"v-show",value:e.isSelected,expression:"nav.isSelected"}],key:a,staticClass:"tab_list"},[i("div",{staticClass:"tab_position"},[i("div",{staticClass:"tab_position_left"},t._l(e.places,function(e,s){return i("p",{key:s,class:{on:e.isOn},on:{click:function(i){return t.toggleClass(e,a,s)}}},[t._v(t._s(e.name))])}),0),t._v(" "),i("div",{staticClass:"tab_position_right"},t._l(t.tempList,function(e,a){return i("p",{key:a,class:{ishad:e.isHad},attrs:{"data-id":e.pfid},on:{click:function(i){return t.toggleChange(e,a)}}},[i("span",[t._v(t._s(e.road))]),i("i",{staticClass:"iconfont icon-correct"})])}),0)])])}),0),t._v(" "),i("ul",{staticClass:"reset_city flex_parent"},[i("li",{staticClass:"flex_child",on:{click:t.resetSelect}},[t._v("重置")]),t._v(" "),i("li",{staticClass:"flex_child on",on:{click:t.hide}},[t._v("确定 "+t._s(t._f("filterZero")(t.viewCount)))])]),t._v(" "),t._m(0)]),t._v(" "),i("div",{staticClass:"mask",attrs:{id:"mask"},on:{click:t.hide}})])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"toggle_cities"},[i("p",[i("i",{staticClass:"icon-position"}),t._v("切换城市")])])}]}},390:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"slide_tab"},[i("ul",{staticClass:"slide_one"},t._l(t.slideTemp,function(e,a){return i("li",{key:a,class:{selected:e.hadSelested},on:{click:function(i){return t.toggleSelected(e,a)}}},[i("span",[t._v(t._s(e.name))]),i("i",{staticClass:"iconfont icon-correct"})])}),0),t._v(" "),i("div",{staticClass:"mask",attrs:{id:"mask"},on:{click:t.hide}})])},staticRenderFns:[]}}});