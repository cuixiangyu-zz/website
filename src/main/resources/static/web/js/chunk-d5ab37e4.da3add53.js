(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d5ab37e4"],{"093a":function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var i=s("b775");function a(e){return Object(i["a"])({url:"/video/getPageList",method:"post",data:e})}},6704:function(e,t,s){"use strict";var i=s("dec2"),a=s.n(i);a.a},"727c":function(e,t,s){},"8cdbb":function(e,t,s){"use strict";var i=s("727c"),a=s.n(i);a.a},"94f2":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.tableData?s("div",{staticClass:"main"},[s("el-form",{attrs:{inline:!0}},[s("el-form-item",{attrs:{label:"影片名"}},[s("el-input",{attrs:{clearable:"",placeholder:"请输入影片名"},model:{value:e.listQuery.pictureName,callback:function(t){e.$set(e.listQuery,"pictureName",t)},expression:"listQuery.pictureName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"作者"}},[s("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入内容",clearable:""},model:{value:e.listQuery.actorName,callback:function(t){e.$set(e.listQuery,"actorName",t)},expression:"listQuery.actorName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"分类"}},[s("el-cascader-multi",{attrs:{data:e.typeMap,filterable:"","reserve-keyword":""},model:{value:e.listQuery.types,callback:function(t){e.$set(e.listQuery,"types",t)},expression:"listQuery.types"}})],1),e._v(" "),s("el-form-item",{staticStyle:{"margin-right":"50px"}},[s("el-button",{attrs:{type:"primary"},on:{click:e.getPageList}},[e._v("查询")])],1)],1),e._v(" "),s("el-row",{staticClass:"row-ul",attrs:{gutter:"20"}},e._l(e.tableData.list,(function(t){return s("el-col",{key:t.id,staticClass:"row-li",attrs:{span:4},nativeOn:{click:function(t){return e.handleClick(t)}}},[s("el-card",{attrs:{"body-style":{padding:"0px"}}},[s("el-image",{attrs:{src:t.coverUrl,lazy:""},on:{click:e.showimg}}),e._v(" "),s("div",{staticStyle:{padding:"14px"},on:{click:function(s){return e.jump(t.id)}}},[s("span",[e._v(e._s(t.name))]),e._v(" "),s("div",{staticClass:"bottom clearfix"},[s("time",{staticClass:"time"},[e._v(e._s(t.actorname))]),e._v(" "),s("span",{staticClass:"tag-group__title"},[e._v("类型:")]),e._v(" "),e._l(t.types,(function(t){return s("el-tag",{key:t.id,attrs:{size:"mini",effect:"plain"},on:{click:function(s){return e.getType(t)}}},[e._v(e._s(t.chineseName)+"\n            ")])}))],2),e._v(" "),s("div",{staticClass:"bottom clearfix"},[s("time",{staticClass:"time"},[e._v(e._s(t.actorname))]),e._v(" "),s("span",{staticClass:"tag-group__title"},[e._v("作者:")]),e._v(" "),e._l(t.actors,(function(t){return s("el-tag",{key:t.id,attrs:{size:"mini",effect:"plain"},on:{click:function(s){return e.getActor(t.id)}}},[e._v(e._s(t.chineseName)+"("+e._s(t.count)+")\n            ")])}))],2),e._v(" "),s("div",{staticClass:"bottom clearfix"},[s("el-rate",{staticClass:"rate",attrs:{disabled:"","show-score":"","text-color":"#ff9900","score-template":"{value}"},model:{value:t.level,callback:function(s){e.$set(t,"level",s)},expression:"item.level"}}),e._v(" "),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"添加到播放列表",placement:"top"}},[s("el-button",{staticClass:"button",attrs:{type:"text",size:"medium",icon:"el-icon-plus"},on:{click:function(s){return e.addList(t.id)}}})],1)],1)])],1)],1)})),1),e._v(" "),s("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{total:e.tableData.total,"current-page":e.listQuery.pageNum,"page-sizes":[1,5,10,20,30],"page-size":e.listQuery.pageSize,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()},a=[],r=(s("ac6a"),s("093a")),n={name:"日本视频",data:function(){return{tableData:[],listQuery:{pageNum:1,pageSize:10,actorName:null,videoName:null,types:null,videoType:3},typeMap:"",actors:"",deviceDetail:null,imgSrc:"http://127.0.0.1:8081/website/resources/_MG_0170.jpg",url:"http://127.0.0.1:8081/website/resources/_MG_0170.jpg",srcList:[],videoAndIdList:{idList:[],videoList:[]}}},created:function(){var e=sessionStorage.getItem("videoAndIdList");null!==e&&void 0!==e&&""!==e&&(this.videoAndIdList=JSON.parse(e)),this.getPageList()},beforeRouteLeave:function(e,t,s){sessionStorage.setItem("listQuery_comic_video",JSON.stringify(this.listQuery)),sessionStorage.setItem("refresh_comic_video",!0),sessionStorage.setItem("videoAndIdList",JSON.stringify(this.videoAndIdList)),s()},methods:{getPageList:function(){var e=this,t=sessionStorage.getItem("listQuery_comic_video"),s=sessionStorage.getItem("refresh_comic_video");null!==t&&null!==s&&"true"===s&&(this.listQuery=JSON.parse(t),sessionStorage.setItem("refresh_american_video",!1)),Object(r["a"])(this.listQuery).then((function(t){e.tableData=t.PageInfo;var s=t.actors,i=[];s.forEach((function(e){i.push({value:e.chineseName})})),e.actors=i,e.typeMap=t.typeMap}))},handleCurrentChange:function(e){this.listQuery.pageNum=e,sessionStorage.setItem("refresh_comic_video",!1),this.getPageList()},handleSizeChange:function(e){this.listQuery.pageSize=e,sessionStorage.setItem("refresh_comic_video",!1),this.getPageList()},handleClick:function(){},getType:function(e){event.stopPropagation();var t=[],s=[];t.push("allTypes"),t.push(e.id),s.push(t),this.listQuery.types=s,this.listQuery.actorName=null,console.log(this.listQuery),sessionStorage.setItem("refresh_comic_video",!1),this.getPageList()},getActor:function(e){event.stopPropagation(),this.listQuery.actorName=e,this.listQuery.types=null,sessionStorage.setItem("refresh_comic_video",!1),this.getPageList()},imgview:function(){alert("2222")},jump:function(e){sessionStorage.setItem("listQuery",JSON.stringify(this.listQuery)),sessionStorage.setItem("listQuery_comic_video",!0),sessionStorage.setItem("refresh_video_detail",!1),this.$router.push({path:"/video_detail/index",name:"影片详情",params:{id:e}})},showimg:function(){var e=[];e.push("http://127.0.0.1:8081/website/resources/_MG_0177.jpg"),e.push("http://127.0.0.1:8081/website/resources/_MG_0170.jpg"),this.srcList=e},querySearch:function(e,t){var s=this.actors,i=e?s.filter(this.createFilter(e)):s;t(i)},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},addList:function(e){event.stopPropagation(),this.videoAndIdList.idList.unshift(e),this.$message({message:"成功添加到播放列表！！",type:"success"})}}},o=n,l=(s("8cdbb"),s("6704"),s("2877")),c=Object(l["a"])(o,i,a,!1,null,"24eb9a6c",null);t["default"]=c.exports},dec2:function(e,t,s){}}]);