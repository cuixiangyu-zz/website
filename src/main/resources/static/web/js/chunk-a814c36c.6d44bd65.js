(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a814c36c"],{"03aa":function(e,t,a){"use strict";var i=a("6c44"),l=a.n(i);l.a},"64f1":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.tableData?a("div",{staticClass:"main"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"患者姓名"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入患者姓名"},model:{value:e.defaltQuery.userName,callback:function(t){e.$set(e.defaltQuery,"userName",t)},expression:"defaltQuery.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"票号"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入票号"},model:{value:e.defaltQuery.queueNo,callback:function(t){e.$set(e.defaltQuery,"queueNo",t)},expression:"defaltQuery.queueNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"科室"}},[a("el-select",{attrs:{placeholder:"请选择","value-key":"id"},model:{value:e.defaltQuery.sectionsId,callback:function(t){e.$set(e.defaltQuery,"sectionsId",t)},expression:"defaltQuery.sectionsId"}},e._l(e.sectionsList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.getNoDoctorList}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-left":"50px"}},[e.checkBoxVisible?a("el-button",{attrs:{type:"primary"},on:{click:e.batchEdit}},[e._v("批量转诊")]):e._e()],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.list,border:""},on:{"selection-change":e.changeFun}},[a("el-table-column",{attrs:{type:"selection",prop:"checked",label:"批量转诊",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"患者姓名",align:"center",width:"150%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sex",label:"性别",align:"center",width:"120%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"就诊状态",align:"center",width:"120%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"queueNo",label:"票号",align:"center",width:"120%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderNo",label:"排队号",align:"center",width:"120%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sections.name",label:"科室名",align:"center",width:"150%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"doctor.name",label:"医生名",align:"center",width:"150%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"clinic.clinicName",label:"诊室名",align:"center",width:"150%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"edit",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.changeClinicById(t.$index,t.row)}}},[e._v("转诊")])]}}],null,!1,1657732404)})],1),e._v(" "),a("el-dialog",{attrs:{title:"转诊",visible:e.changeClinicFormVisible,width:"30%",align:"center"},on:{"update:visible":function(t){e.changeClinicFormVisible=t}}},[a("el-form",{attrs:{model:e.changeClinic}},[a("el-form-item",{attrs:{label:"医生"}},[a("el-select",{attrs:{placeholder:"请选择","value-key":"id"},model:{value:e.changeClinic.doctor,callback:function(t){e.$set(e.changeClinic,"doctor",t)},expression:"changeClinic.doctor"}},e._l(e.doctorList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirmEdit}},[e._v("保 存")]),e._v(" "),a("el-button",{on:{click:function(t){e.changeClinicFormVisible=!1}}},[e._v("取 消")])],1)],1),e._v(" "),a("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{total:e.tableData.total,"current-page":e.defaltQuery.pageNum,"page-sizes":[1,5,10,20,30],"page-size":e.defaltQuery.pageSize,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()},l=[],n=(a("ac4d"),a("8a81"),a("ac6a"),a("b775"));function o(e){return Object(n["a"])({url:"/nurse/notDoctorList",method:"post",params:e})}function c(e){return Object(n["a"])({url:"/nurse/batchEdit",method:"post",data:e})}function r(e){return Object(n["a"])({url:"/nurse/getSignDoctor",method:"post",data:e})}var s={data:function(){return{name:"",sex:"",status:"",queueNo:"",orderNo:"",sectionName:"",doctorName:"",clinicName:"",checked:!0,checkBoxVisible:!0,changeClinicFormVisible:!1,defaltQuery:{pageNum:1,pageSize:10,sectionsId:"",userName:"",doctor:"",queueNo:""},changeClinic:{doctor:"",selectData:{}},doctorList:{},sectionsList:{},tableData:null}},created:function(){this.getNoDoctorList()},methods:{getNoDoctorList:function(){var e=this;o(this.defaltQuery).then((function(t){var a=!0,i=!1,l=void 0;try{for(var n,o=t.pageInfos.list[Symbol.iterator]();!(a=(n=o.next()).done);a=!0){var c=n.value;0===c.sex?c.sex="男":c.sex="女",1===c.status?c.status="候诊":2===c.status?c.status="就诊":c.status="就诊完成"}}catch(r){i=!0,l=r}finally{try{a||null==o.return||o.return()}finally{if(i)throw l}}e.tableData=t.pageInfos,e.sectionsList=t.sections}))},handleSizeChange:function(e){this.defaltQuery.pageSize=e,this.getNoDoctorList()},handleCurrentChange:function(e){this.defaltQuery.pageNum=e,this.getNoDoctorList()},changeFun:function(e){var t=[];e.forEach((function(e){t.push(e.id)})),this.changeClinic.selectData=t},batchEdit:function(){void 0===this.changeClinic.selectData||this.changeClinic.selectData.length<=0||void 0===this.changeClinic.selectData.length?alert("请选择转诊患者"):(this.getSignDoctor(),this.changeClinicFormVisible=!0)},confirmEdit:function(){var e=this;c(this.changeClinic).then((function(t){e.checkBoxVisible=!1,e.changeClinicFormVisible=!1,e.getNoDoctorList()}))},changeClinicById:function(e,t){var a=[];a.push(t.id),this.changeClinic.selectData=a,this.batchEdit()},getSignDoctor:function(){var e=this;this.changeClinic.doctor="",this.doctorList="",r(this.changeClinic).then((function(t){console.log(t),e.doctorList=t}))}}},u=s,d=(a("03aa"),a("2877")),h=Object(d["a"])(u,i,l,!1,null,"4f182c38",null);t["default"]=h.exports},"6c44":function(e,t,a){}}]);