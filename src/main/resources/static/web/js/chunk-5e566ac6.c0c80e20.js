(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e566ac6"],{8969:function(e,t,a){"use strict";var l=a("b218"),n=a.n(l);n.a},"9c80d":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.tableData?a("div",{staticClass:"main"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"患者姓名"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入患者姓名"},model:{value:e.defaltQuery.userName,callback:function(t){e.$set(e.defaltQuery,"userName",t)},expression:"defaltQuery.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"票号"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入票号"},model:{value:e.defaltQuery.queueNo,callback:function(t){e.$set(e.defaltQuery,"queueNo",t)},expression:"defaltQuery.queueNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"科室"}},[a("el-select",{attrs:{placeholder:"请选择","value-key":"id"},model:{value:e.defaltQuery.sectionsId,callback:function(t){e.$set(e.defaltQuery,"sectionsId",t)},expression:"defaltQuery.sectionsId"}},e._l(e.sectionsList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"医生"}},[a("el-select",{attrs:{placeholder:"请选择","value-key":"id",clearable:""},model:{value:e.defaltQuery.doctor,callback:function(t){e.$set(e.defaltQuery,"doctor",t)},expression:"defaltQuery.doctor"}},e._l(e.doctorList,(function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.getCompleteList}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-left":"50px"}},[e.checkBoxVisible?a("el-button",{attrs:{type:"primary"},on:{click:e.batchEdit}},[e._v("转入未诊队列")]):e._e()],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.list,border:""},on:{"selection-change":e.changeFun}},[e.checkBoxVisible?a("el-table-column",{attrs:{type:"selection",prop:"checked",label:"批量转诊",align:"center"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"患者姓名",align:"center",width:"150%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sex",label:"性别",align:"center",width:"120%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"就诊状态",align:"center",width:"120%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"queueNo",label:"票号",align:"center",width:"120%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderNo",label:"排队号",align:"center",width:"120%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sections.name",label:"科室名",align:"center",width:"150%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"doctor.name",label:"医生名",align:"center",width:"150%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"clinic.clinicName",label:"诊室名",align:"center",width:"150%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"edit",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.changetoWaitListById(t.$index,t.row)}}},[e._v("转入未诊队列")])]}}],null,!1,1575040929)})],1),e._v(" "),a("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{total:e.tableData.total,"current-page":e.defaltQuery.pageNum,"page-sizes":[1,5,10,20,30],"page-size":e.defaltQuery.pageSize,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()},n=[],i=(a("ac4d"),a("8a81"),a("ac6a"),a("b775"));function o(e){return Object(i["a"])({url:"/nurse/completeList",method:"post",params:e})}function r(e){return Object(i["a"])({url:"/nurse/changetoWaitList",method:"post",data:e})}var s={data:function(){return{name:"",sex:"",status:"",queueNo:"",orderNo:"",sectionName:"",doctorName:"",clinicName:"",checked:!0,checkBoxVisible:!0,changeClinicFormVisible:!1,defaltQuery:{pageNum:1,pageSize:10,sectionsId:"",userName:"",doctor:"",queueNo:""},changetoWaitList:{doctor:"",selectData:{}},doctorList:{},sectionsList:{},tableData:null}},created:function(){this.getCompleteList()},methods:{getCompleteList:function(){var e=this;o(this.defaltQuery).then((function(t){var a=!0,l=!1,n=void 0;try{for(var i,o=t.pageInfos.list[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var r=i.value;0===r.sex?r.sex="男":r.sex="女",1===r.status?r.status="候诊":2===r.status?r.status="就诊":r.status="就诊完成"}}catch(s){l=!0,n=s}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}e.tableData=t.pageInfos,e.doctorList=t.allSignDoctorBySectionId,e.sectionsList=t.sections}))},handleSizeChange:function(e){this.defaltQuery.pageSize=e,this.getCompleteList()},handleCurrentChange:function(e){this.defaltQuery.pageNum=e,this.getCompleteList()},changeFun:function(e){var t=[];e.forEach((function(e){t.push(e.id)})),this.changetoWaitList.selectData=t},batchEdit:function(){var e=this;void 0===this.changetoWaitList.selectData||this.changetoWaitList.selectData.length<=0||void 0===this.changetoWaitList.selectData.length?alert("请选择转诊患者"):r(this.changetoWaitList).then((function(t){e.changeClinicFormVisible=!1,e.getCompleteList()}))},changetoWaitListById:function(e,t){var a=[];a.push(t.id),this.changetoWaitList.selectData=a,this.batchEdit()}}},c=s,u=(a("8969"),a("2877")),d=Object(u["a"])(c,l,n,!1,null,"357c780c",null);t["default"]=d.exports},b218:function(e,t,a){}}]);